(this.webpackJsonpproject_7=this.webpackJsonpproject_7||[]).push([[0],{60:function(e,t,a){e.exports=a(88)},65:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(6),o=a.n(i),l=(a(65),a(11)),s=a(40),c=a.n(s),u=a(10),m=a(28),d={zoomLevel:16,latitudeForFocusingMap:51.4344,longitudeForFocusingMap:6.7623,markerLongitude:51.4344,markerLatitude:6.7623,useDefaultUI:!1,apiKey:"AIzaSyC6iHzGGrNmtKZB-LDf2tCYMOQXKD6YPac",googleMapsMarkerIcon:"marker icon link"},g=a(44),p=a.n(g);function v(e){var t={position:{lat:e.restaurant.geometry.location.lat,lng:e.restaurant.geometry.location.lng},pov:{heading:100,pitch:0},zoom:1};return r.a.createElement("div",{style:{width:"275px",height:"250px",backgroundColor:"#eeeeee"}},r.a.createElement(p.a,{apiKey:"AIzaSyC6iHzGGrNmtKZB-LDf2tCYMOQXKD6YPac",streetViewPanoramaOptions:t}))}var f=a(126),w=a(130),h=a(131),b=a(132),R=a(134),E=a(36),y=a(139),M=a(137),k=a(127),j=a(128),O=a(129),x=a(138);function D(e){return r.a.createElement("div",null,r.a.createElement(x.a,{component:"fieldset",mb:2,borderColor:"transparent",style:{position:"absolute",left:175,margin:0,padding:0,top:15}},r.a.createElement(E.a,{component:"legend"}),r.a.createElement(y.a,{name:"read-only",size:"small",value:e.rating,readOnly:!0})))}var C=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",nWidth:275,height:470,zindex:1,position:"absolute",top:"30%",overflow:"scroll",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function W(e){C();return r.a.createElement("div",null,r.a.createElement(k.a,{className:"myListItem",key:Date.now()+Math.floor(100*Math.random())},r.a.createElement(D,{rating:e.review.rating}),r.a.createElement(j.a,{primary:e.review.author_name,secondary:e.review.text})),r.a.createElement(O.a,null))}var I=Object(f.a)((function(e){return{root:{width:320,height:700,zindex:1,position:"absolute",top:"12%",opacity:"0.9",margin:10,overflow:"scroll",listStyle:"none"},title:{fontSize:14},pos:{marginBottom:12,"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch",top:50,position:"absolute"}}}}));function S(e){var t=I(),a=Object(n.useState)(""),i=Object(u.a)(a,2),o=i[0],l=i[1],s=Object(n.useState)(""),c=Object(u.a)(s,2),m=c[0],d=c[1],g=Object(n.useState)(""),p=Object(u.a)(g,2),f=p[0],k=p[1],j=Object(n.useState)(""),O=Object(u.a)(j,2),x=O[0],D=O[1],C=function(t){t.preventDefault(),e.addRestaurant({name:o,address:m})},S=function(t){t.preventDefault(),e.addReview({review:f,rating:x})};return e&&e.restaurant?function(e,a){return r.a.createElement(w.a,{className:t.root},r.a.createElement(h.a,null,r.a.createElement(b.a,null,a&&a.photos&&a.photos[0]?r.a.createElement("img",{src:a.photos[0].getUrl(),style:{height:200,width:275}}):r.a.createElement(v,{restaurant:e})),r.a.createElement(E.a,{variant:"h5",component:"h2"},e.name),r.a.createElement(E.a,{className:t.pos,color:"textSecondary"},e.vicinity),r.a.createElement("form",{onSubmit:S},r.a.createElement(M.a,{style:{width:240,height:55},id:"outlined-multiline-static",label:"Review",multiline:!0,rows:4,defaultValue:"",variant:"outlined",onChange:function(e){return k(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{name:"size-small",defaultValue:1,size:"small",onChange:function(e){return D(parseInt(e.target.value))}}),r.a.createElement("input",{type:"submit",value:"Submit",style:{position:"absolute",left:"60%"}})),a.reviews?a.reviews.map((function(e){return r.a.createElement(W,{key:Date.now()+Math.floor(100*Math.random()),review:e})})):null))}(e.restaurant,e.details):r.a.createElement(w.a,{className:t.root},r.a.createElement(h.a,null,r.a.createElement("form",{onSubmit:C,className:t.root,noValidate:!0,autoComplete:"off",style:{left:-27}},r.a.createElement("div",{style:{position:"absolute",top:-25,left:40}},r.a.createElement("h4",null,"Add new Restaurant"),r.a.createElement(M.a,{style:{margin:5},required:!0,id:"filledRequiredName",label:"Restaurant Name",placeholder:"Restaurant Name",value:o,variant:"outlined",onChange:function(e){return l(e.target.value)}}),r.a.createElement(M.a,{style:{margin:5},required:!0,id:"filledRequiredAdresse",label:"Restaurant Adresse",placeholder:"Restaurant Addresse",value:m,variant:"outlined",onChange:function(e){return d(e.target.value)}}),r.a.createElement(R.a,{style:{width:50,height:30,margin:2,position:"absolute",top:230,left:140},variant:"contained",color:"primary",type:"submit",value:"Submit"},"Submit")))))}var z=a(135),L=a(140),F=Object(f.a)((function(e){return{root:{width:"100%",maxWidth:"36ch",nWidth:275,height:470,zindex:1,position:"absolute",top:"12%",left:"70%",overflow:"scroll",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function N(e){var t=F();return r.a.createElement(k.a,{alignItems:"flex-start",onClick:function(){return e.onClickListItem(e)}},r.a.createElement(z.a,null,r.a.createElement(L.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",style:{backgroundColor:"orange"}})),r.a.createElement(j.a,{primary:e.restaurant.name,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{component:"span",variant:"body2",className:t.inline,color:"textPrimary",style:{fontSize:"small"}},e.restaurant.vicinity))}))}function A(e){var t=r.a.useState(e.selectedValue),a=Object(u.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(x.a,{component:"fieldset",mb:3,borderColor:"transparent",style:{position:"absolute",left:"80%",top:7,backgroundColor:"white"}},r.a.createElement(E.a,{component:"legend"},"Min"),r.a.createElement(y.a,{name:"filter-min-rating",defaultValue:1,size:"small",value:n,onChange:function(t,a){i(a),e.updateMinRating(a)}})))}function K(e){var t=r.a.useState(e.selectedValue),a=Object(u.a)(t,2),n=a[0],i=a[1];return r.a.createElement("div",null,r.a.createElement(x.a,{component:"fieldset",mb:3,borderColor:"transparent",style:{position:"absolute",left:"87%",top:7,backgroundColor:"white"}},r.a.createElement(E.a,{component:"legend"},"Max"),r.a.createElement(y.a,{name:"filter-max-rating",defaultValue:5,size:"small",value:n,onChange:function(t,a){i(a),e.updateMaxRating(a)}})))}var V=a(133),G=Object(f.a)((function(e){return{root:{width:275,height:700,zindex:1,position:"absolute",top:"12%",left:"80%",overflow:"scroll",opacity:"0.9",backgroundColor:e.palette.background.paper},inline:{display:"inline"}}}));function _(e){var t=G();return r.a.createElement("div",null,r.a.createElement(A,{selectedValue:e.filterMinRating,updateMinRating:e.updateMinRating}),r.a.createElement(K,{selectedValue:e.filterMaxRating,updateMaxRating:e.updateMaxRating}),r.a.createElement(V.a,{className:t.root},Object.keys(e.restaurantArray).map((function(t){return e.restaurantArray[t].rating>=e.filterMinRating&&e.restaurantArray[t].rating<=e.filterMaxRating?r.a.createElement(N,{key:t,restaurant:e.restaurantArray[t],onClickListItem:e.onClickListItem}):null}))))}var P=Object(m.GoogleApiWrapper)({apiKey:d.apiKey})((function(e){var t=Object(n.useState)(d.zoomLevel),a=Object(u.a)(t,2),i=a[0],o=(a[1],Object(n.useState)(d.lat||51.4344)),s=Object(u.a)(o,1)[0],g=Object(n.useState)(d.lng||6.7623),p=Object(u.a)(g,1)[0],v=Object(n.useState)(!1),f=Object(u.a)(v,2),w=f[0],h=f[1],b=Object(n.useState)([]),R=Object(u.a)(b,2),E=R[0],y=R[1],M=Object(n.useState)([]),k=Object(u.a)(M,2),j=k[0],O=k[1],x=new window.google.maps.Map(document.createElement("div")),D=new window.google.maps.places.PlacesService(x);Object(n.useEffect)((function(){c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(fetch("http://cors.io/?https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=51.434406,6.762329&radius=1500&type=restaurant&key=AIzaSyC6iHzGGrNmtKZB-LDf2tCYMOQXKD6YPac"));case 2:e.sent.json().then((function(e){return L(e)})).catch((function(e){return h(e)}));case 4:case"end":return e.stop()}}))}),[w]);var C=Object(n.useState)({activeMarker:{},activeRestaurant:{},activeRestaurantDetails:{},showingInfoWindow:!1,showingRestaurantDetailsWindow:!1,text:"",tempMarker:!1,createRestaurantForm:!1,tempMarkerLocation:{},filterMinRating:1,filterMaxRating:5}),W=Object(u.a)(C,2),I=W[0],z=W[1],L=function(e){if(e&&e.results){var t=[];e.results.map((function(e){e&&e.id&&(t[e.id]=e)})),y(t)}},F=function(e,t){if(t.restaurant&&t.restaurant.place_id)if(j[t.restaurant.id])z(Object(l.a)({},I,{activeMarker:t,activeRestaurant:t.restaurant,activeRestaurantDetails:j[t.restaurant.id],showingInfoWindow:!0,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1,text:t.text||""}));else{var a={placeId:t.restaurant.place_id};D.getDetails(a,(function(e,a){var n=j;n[t.restaurant.id]=e,O(n),z(Object(l.a)({},I,{activeMarker:t,activeRestaurant:t.restaurant,activeRestaurantDetails:e,showingInfoWindow:!0,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1,text:t.text||""}))}))}else t&&t.restaurant&&t.restaurant.id&&j[t.restaurant.id]?z(Object(l.a)({},I,{activeMarker:t,activeRestaurant:t.restaurant,activeRestaurantDetails:j[t.restaurant.id],showingInfoWindow:!0,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1,text:t.text||""})):z(Object(l.a)({},I,{activeMarker:t,activeRestaurant:t.restaurant,activeRestaurantDetails:{},showingInfoWindow:!0,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1,text:t.text||""}))};return r.a.createElement("div",{className:"map",id:"myMap"},r.a.createElement(m.Map,{google:e.google,onClick:function(e,t,a){z(Object(l.a)({},I,{showingInfoWindow:!1,activeMarker:null,activeRestaurant:null,showingRestaurantDetailsWindow:!1,tempMarkerLocation:{lat:a.latLng.lat(),lng:a.latLng.lng()},createRestaurantForm:!I.createRestaurantForm}))},zoom:i,disableDefaultUI:d.useDefaultUI,initialCenter:{lat:s,lng:p}},E&&Object.keys(E).map((function(e){return E[e].rating>=I.filterMinRating&&E[e].rating<=I.filterMaxRating?r.a.createElement(m.Marker,{onClick:F,key:e,text:E[e].name,position:{lat:E[e].geometry.location.lat,lng:E[e].geometry.location.lng},restaurant:E[e]}):null})),r.a.createElement(m.Marker,{onClick:F,text:"Current Position"}),r.a.createElement(m.InfoWindow,{marker:I.activeMarker,onClose:function(){z(Object(l.a)({},I,{activeMarker:null,showingInfoWindow:!1}))},visible:I.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("p",null,I.text))),I.activeRestaurant&&I.showingRestaurantDetailsWindow?r.a.createElement(S,{restaurant:I.activeRestaurant,details:I.activeRestaurantDetails,addReview:function(e){if(e&&(e.review||e.rating)){var t=e.review;t||(t="");var a=e.rating;(!a||a<1||a>5)&&(a=1);var n=j;n[I.activeRestaurant.id]||(n[I.activeRestaurant.id]={reviews:[]}),n[I.activeRestaurant.id].reviews.push({text:t,rating:a,author_name:"Developer"});var r=0,i=0;n[I.activeRestaurant.id].reviews.map((function(e){e.rating&&(r++,i+=e.rating)}));var o=i/r,s=E;s[I.activeRestaurant.id].rating=o,O(n),y(s)}z(Object(l.a)({},I,{showingInfoWindow:!1,activeMarker:null,activeRestaurant:null,showingRestaurantDetailsWindow:!1,tempMarkerLocation:{},createRestaurantForm:!1}))}}):null,E?r.a.createElement(_,{restaurantArray:E,onClickListItem:function(e){if(e.restaurant&&e.restaurant.place_id)if(j[e.restaurant.id])z(Object(l.a)({},I,{activeMarker:null,showingInfoWindow:!1,activeRestaurantDetails:j[e.restaurant.id],activeRestaurant:e.restaurant,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1}));else{var t={placeId:e.restaurant.place_id};D.getDetails(t,(function(t,a){var n=j;n[e.restaurant.id]=t,O(n),z(Object(l.a)({},I,{activeMarker:null,showingInfoWindow:!1,activeRestaurantDetails:t,activeRestaurant:e.restaurant,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1}))}))}else e&&e.restaurant&&e.restaurant.id&&j[e.restaurant.id]?z(Object(l.a)({},I,{activeMarker:null,showingInfoWindow:!1,activeRestaurantDetails:j[e.restaurant.id],activeRestaurant:e.restaurant,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1})):z(Object(l.a)({},I,{activeMarker:null,showingInfoWindow:!1,activeRestaurantDetails:{},activeRestaurant:e.restaurant,showingRestaurantDetailsWindow:!0,createRestaurantForm:!1}))},updateMinRating:function(e){(!e||e<1||e>5)&&(e=1),z(Object(l.a)({},I,{filterMinRating:e}))},updateMaxRating:function(e){(!e||e<1||e>5)&&(e=5),z(Object(l.a)({},I,{filterMaxRating:e}))},filterMinRating:I.filterMinRating,filterMaxRating:I.filterMaxRating}):null,I.createRestaurantForm?r.a.createElement(S,{addRestaurant:function(e){if(I.tempMarkerLocation){var t={geometry:{location:{lat:I.tempMarkerLocation.lat,lng:I.tempMarkerLocation.lng}},name:e.name,id:Date.now()+Math.floor(100*Math.random()),rating:1,vicinity:e.address,tempMarker:!0},a=E;a[t.id]=t,y(a),z(Object(l.a)({},I,{tempMarker:!0,tempMarkerLocation:{},createRestaurantForm:!1}))}}}):null))})),B=a(136),Y=Object(f.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(5),textAlign:"center",color:e.palette.text.secondary}}}));function q(){var e=Y();return r.a.createElement("div",{className:e.root},r.a.createElement(B.a,{container:!0,spacing:3},r.a.createElement(B.a,{item:!0,xs:12,sm:12},r.a.createElement(P,{className:e.paper},"xs=12 sm=6"))))}var U=function(){return r.a.createElement("div",null,r.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.1c27bb11.chunk.js.map